package controllers;

import org.junit.Test;

import static org.junit.Assert.*;

import java.util.ArrayList;
import java.util.List;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.Test;



import Models.UserResultHelper;

public class UserResultHelperTest {
	UserResultHelper userResultHelper = new UserResultHelper();
	@Test
	public void addToTotalSearchListTest() {
		String userObjectsAsString = "[{\"id\":300731809,\"node_id\":\"MDEwOlJlcG9zaXRvcnkzMDA3MzE4MDk=\",\"name\":\"advit\",\"full_name\":\"ujjawala397/advit\",\"private\":false,\"owner\":{\"login\":\"ujjawala397\",\"id\":29590941,\"node_id\":\"MDQ6VXNlcjI5NTkwOTQx\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/29590941?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/ujjawala397\",\"html_url\":\"https://github.com/ujjawala397\",\"followers_url\":\"https://api.github.com/users/ujjawala397/followers\",\"following_url\":\"https://api.github.com/users/ujjawala397/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/ujjawala397/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/ujjawala397/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/ujjawala397/subscriptions\",\"organizations_url\":\"https://api.github.com/users/ujjawala397/orgs\",\"repos_url\":\"https://api.github.com/users/ujjawala397/repos\",\"events_url\":\"https://api.github.com/users/ujjawala397/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/ujjawala397/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/ujjawala397/advit\",\"description\":null,\"fork\":false,\"url\":\"https://api.github.com/repos/ujjawala397/advit\",\"forks_url\":\"https://api.github.com/repos/ujjawala397/advit/forks\",\"keys_url\":\"https://api.github.com/repos/ujjawala397/advit/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/ujjawala397/advit/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/ujjawala397/advit/teams\",\"hooks_url\":\"https://api.github.com/repos/ujjawala397/advit/hooks\",\"issue_events_url\":\"https://api.github.com/repos/ujjawala397/advit/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/ujjawala397/advit/events\",\"assignees_url\":\"https://api.github.com/repos/ujjawala397/advit/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/ujjawala397/advit/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/ujjawala397/advit/tags\",\"blobs_url\":\"https://api.github.com/repos/ujjawala397/advit/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/ujjawala397/advit/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/ujjawala397/advit/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/ujjawala397/advit/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/ujjawala397/advit/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/ujjawala397/advit/languages\",\"stargazers_url\":\"https://api.github.com/repos/ujjawala397/advit/stargazers\",\"contributors_url\":\"https://api.github.com/repos/ujjawala397/advit/contributors\",\"subscribers_url\":\"https://api.github.com/repos/ujjawala397/advit/subscribers\",\"subscription_url\":\"https://api.github.com/repos/ujjawala397/advit/subscription\",\"commits_url\":\"https://api.github.com/repos/ujjawala397/advit/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/ujjawala397/advit/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/ujjawala397/advit/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/ujjawala397/advit/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/ujjawala397/advit/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/ujjawala397/advit/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/ujjawala397/advit/merges\",\"archive_url\":\"https://api.github.com/repos/ujjawala397/advit/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/ujjawala397/advit/downloads\",\"issues_url\":\"https://api.github.com/repos/ujjawala397/advit/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/ujjawala397/advit/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/ujjawala397/advit/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/ujjawala397/advit/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/ujjawala397/advit/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/ujjawala397/advit/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/ujjawala397/advit/deployments\",\"created_at\":\"2020-10-02T20:43:10Z\",\"updated_at\":\"2020-10-02T20:58:18Z\",\"pushed_at\":\"2020-10-02T20:58:16Z\",\"git_url\":\"git://github.com/ujjawala397/advit.git\",\"ssh_url\":\"git@github.com:ujjawala397/advit.git\",\"clone_url\":\"https://github.com/ujjawala397/advit.git\",\"svn_url\":\"https://github.com/ujjawala397/advit\",\"homepage\":null,\"size\":4187,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"JavaScript\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"allow_forking\":true,\"is_template\":false,\"topics\":[],\"visibility\":\"public\",\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"}]";
		
	    ObjectMapper mapper = new ObjectMapper();
        
		JsonNode  userObjectAsJsonnode = mapper.readTree(userObjectsAsString);
        ArrayList<String> allSearches = userResultHelper.getUserResult("varnit", userObjectAsJsonnode);
		assertEquals(0, allSearches.size());
	}
	
}